<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
        <title>Feature Carousel Demonstration Test</title>
        <link rel="stylesheet" href="css/style.css" charset="utf-8" />
        <script src="js/jquery-1.3.2.js" type="text/javascript" charset="utf-8"></script>
        <!--script src="js/jquery.featureCarousel.js" type="text/javascript" charset="utf-8"></script-->
				<script src="js/pagination-0.0.2.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript">
            $(function() {
						
								$("#featureCarousel").paginate({n:1});
            });
        </script>
        <script type="text/javascript">
					$(function() {
						//some effects
						$("#featureCarousel #container")
							.css({position:"relative",
										width:"870px",
										height:"509px",
										overflow:"hidden",
										backgroundColor:"transparent"})
							.append('<p id="left" class="control">left</p>').append('<p id="right" class="control">right</p>');
							
						$("#left, #right")
							.css({position:"absolute",
										top:0,
										margin:0,
										width:"50px",
										height:"449px",
										border:"1px solid yellow",
										"z-index": 1000
							});
						$("#left").css({left:0});
						$("#right").css({right:0});	
						
						firstDivs = $("#featureCarousel #container > div");
						lastDiv = firstDivs.length - 1; 
						for (i=0;i<firstDivs.length;i++)
							{
								firstDivs.eq(i).show()
									.css({position:"absolute",
												left:(i*800+(50))+"px",
												width:"800px",
												height:"449px",
												backgroundColor: "#FFF"});
							}
							$("#featureCarousel #container > div p")
								.css({position:"absolute",
											bottom:0,
											backgroundColor:"#000",
											color:"#fff",
											padding:"8px"});
							$("#featureCarousel #container > div a img")
								.css({width:"100%",
											border:0});
						
							$("#featureCarousel #container > div").eq(0).css({opacity: "1.0", "z-index": lastDiv, border: "3px solid red", top:0});
							$("#featureCarousel #container > div").eq(0).siblings().css({opacity: "0.4", top:"3px"});
							/*
							$("#navigation li").click(function(){
								// li click behavior
									var index = $("#navigation li").index(this);
								
									firstDivs.show()
										
									for (i=0;i<firstDivs.length;i++)
										{
											if (index == 0 && $("#featureCarousel #container > div").eq(0).css("left") == 0+(50)+"px")
												{
														return;
												}else{
													$("#featureCarousel #container > div").eq(i)
														.animate({ left: (((i+1-index)*800+(50)) - 800)+"px", queue: false }, 'slow')
														.css({opacity: "0.4"});
												}
												
												
										}
										
										$("#featureCarousel #container > div").eq(index)
										.css({"z-index": lastDiv,
													opacity: "1.0", border: "3px solid red", top:0})
										.siblings().css({"z-index": 0, border: "none", top:"3px"});
										
										
							});
							*/	
							
							
								var incrementVar = 0;
								var value = 1;
								$(".control").click(function(){
										var index = $(".control").index(this);
										if (index == 1 && $("#featureCarousel #container > div").eq(lastDiv).css("left") != 0+(50)+"px")
											{
												incrementVar = incrementVar + value;
												$("#navigation li").eq(incrementVar).addClass("active").siblings().removeClass("active");
											$("#featureCarousel #container > div")
												.animate({ left: "-=800px", queue: false }, 'slow');
										
											$("#featureCarousel #container > div").eq(incrementVar)
													.css({"z-index": lastDiv,
																opacity: "1.0", border: "3px solid red", top:0})
													.siblings().css({"z-index": 0, border: "none", top:"3px"});
											}
										else if (index == 0 && $("#featureCarousel #container > div").eq(0).css("left") != 0+(50)+"px")
											{
												incrementVar = incrementVar - value;
												$("#navigation li").eq(incrementVar).addClass("active").siblings().removeClass("active");
												$("#featureCarousel #container > div")
													.animate({ left: "+=800px", queue: false }, 'slow');
												
												$("#featureCarousel #container > div").eq(incrementVar)
													.css({"z-index": lastDiv,
																opacity: "1.0", border: "3px solid red", top:0})
													.siblings().css({"z-index": 0, border: "none", top:"3px"});
											}
								});
								
							
							
						
										
						$("#featureCarousel #container > div").click(function(){
							var index = $("#featureCarousel #container > div").index(this);
							$(this).addClass("highlighted").siblings().removeClass("highlighted");
																
								for (i=0;i<firstDivs.length;i++)
										{
											
											if (index == 0 && $("#featureCarousel #container > div").eq(0).css("left") == 0+(50)+"px")
												{
														return;
												}else{
													$("#featureCarousel #container > div").eq(i)
														.animate({ left: (((i+1-index)*800+(50)) - 800)+"px", queue: false }, 'slow')
														.css({opacity: "0.4"});
												}
												
										}	
								
											$("#navigation li").eq(index).addClass("active").siblings().removeClass("active");
								
								$("#featureCarousel #container > div").eq(index)
										.css({"z-index": lastDiv,
													opacity: "1.0", border: "3px solid red", top:0})
										.siblings().css({"z-index": 0, border: "none", top:"3px"});
										
								$("a", this).live("click", function(event){
								alert($(this).parent(".highlighted"));
									//if($(this).parents(".highlighted") == undefined)
									//{
									
									//event.preventDefault();
									//}
								});								
						
						});						
							
							
							
					});
				</script>
				
    </head>
    <body>
        <div id="featureCarousel">
				<!--ul id="navigation"></ul-->
				<div id="container">
							<div class="feature">
									
											<a href="#"><img alt="Image Caption" src="images/testImage1.png"></a>
											<p>
													This is some information that can go along with an image.
													Anything can be placed here, including images.
											</p>
									
							</div>
							<div class="feature">
									<a href="#"><img alt="Image Caption" src="images/testImage2.png"></a>
									<div>
											<p>
													This is some information that can go along with an image.
													Anything can be placed here, including images.
											</p>
									</div>
							</div>
							<div class="feature">
									<a href="#"><img alt="Image Caption" src="images/testImage3.png"></a>
									<div>
											<p>
													This is some information that can go along with an image.
													Anything can be placed here, including images.
											</p>
									</div>
							</div>
							<div class="feature">
									<a href="#"><img alt="Image Caption" src="images/testImage4.png"></a>
									<div>
											<p>
													This is some information that can go along with an image.
													Anything can be placed here, including images.
											</p>
									</div>
							</div>
							<div class="feature">
									<a href="#"><img alt="Image Caption" src="images/testImage5.png"></a>
									<div>
											<p>
													This is some information that can go along with an image.
													Anything can be placed here, including images.
											</p>
									</div>
							</div>
					</div>
        </div>
    </body>
</html>